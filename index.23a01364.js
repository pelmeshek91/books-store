!function(){function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},s=n.parcelRequireead5;null==s&&((s=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){r[e]=t},n.parcelRequireead5=s),s.register("iE7OH",(function(t,n){var o,r;e(t.exports,"register",(function(){return o}),(function(e){return o=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var s={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)s[t[n]]=e[t[n]]},r=function(e){var t=s[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),s.register("91DUJ",(function(e,t){e.exports=s("aNJCr").getBundleURL("EVgbq")+s("iE7OH").resolve("7bqsn")})),s.register("aNJCr",(function(t,n){var o;e(t.exports,"getBundleURL",(function(){return o}),(function(e){return o=e}));var r={};function s(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}o=function(e){var t=r[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return s(e[2])}return"/"}(),r[e]=t),t}})),s.register("hCfoo",(function(e,t){e.exports=s("aNJCr").getBundleURL("EVgbq")+s("iE7OH").resolve("eDFHW")})),s.register("3Nkc1",(function(e,t){e.exports=s("aNJCr").getBundleURL("EVgbq")+s("iE7OH").resolve("gxcW7")})),s("iE7OH").register(JSON.parse('{"EVgbq":"index.23a01364.js","7bqsn":"general-svg.svg.42d92875.svg","eDFHW":"modal-img.870f2cd2.svg","gxcW7":"support-svg.76dbc4ff.svg","cRGpr":"shoppingList.0fbfb2f0.js","kUnET":"shoppingList.332f6b06.js"}'));var i=s("7a6b6"),l=s("8vUBC"),a=s("6JpON"),c=s("kRyEE");const u=document.querySelector(".backdrop"),d=document.querySelector("body"),g=document.querySelector(".sign-btn");l.sectionBooksEl.addEventListener("click",(e=>{const n=e.target.closest(".book-card");n&&async function(e){u.classList.remove("is-hidden"),d.classList.add("no-scroll"),u.innerHTML="";const n=e.getAttribute("data-id"),o=function({description:e,book_image:t,author:n,title:o,buy_links:r,list_name:i}){return`\n    <div class="modal-add-book-window">\n      <div class="all-book-modal">\n        <button class="close-btn-modal">\n          <svg class="close-svg-modal" width="28" height="28">\n            <use href=${s("91DUJ")}#icon-x-close></use>\n          </svg>\n        </button>\n        <img class="img-book-modal" src="${t}" alt="${i}" />\n          <div class="book-modal">\n            <h3 class="title-book-modal">${o}</h3>\n            <p class="author-book-modal">${n}</p>\n            <p class="text-book-modal">${e||"no description"}</p>\n            <ul class="logotip-list">\n              <li class="logo-item">\n                <a href="${r[0].url}" target="_new" rel="noopener noreferer" aria-label="link to Amazon">\n                 <svg class="svg-shop-link" width="62" height="19">\n    <use href=${s("hCfoo")}#icon-amazon></use>\n  </svg>\n                </a>\n              </li>\n              <li class="logo-item">\n                <a href="${r[1].url}" target="_new rel="noopener noreferer" aria-label="link to Apple Books">\n                  <svg class="svg-shop-link" width="33" height="32">\n    <use href=${s("hCfoo")}#icon-apple></use>\n  </svg>\n                </a>\n              </li>\n              <li class="logo-item">\n                <a href="${r[4].url}" target="_new rel="noopener noreferer" aria-label="link to Bookshop">\n                  <svg class="svg-shop-link" width="38" height="36">\n    <use href=${s("hCfoo")}#icon-book_shop></use>\n  </svg>\n                  </a>\n              </li>\n            </ul>\n          </div>  \n      </div>\n          <button class="btn-chose-book active">Add to shopping list</button>\n          <p class="peshka"></p>\n    </div>`}(await(0,i.fetchBooks)(n));u.innerHTML=o;function r(e){e.target===u&&(u.classList.add("is-hidden"),document.removeEventListener("click",r),d.classList.remove("no-scroll"))}function l(e){"Escape"===e.key&&(u.classList.add("is-hidden"),d.classList.remove("no-scroll"),document.removeEventListener("keydown",l))}document.querySelector(".close-btn-modal").addEventListener("click",(e=>{u.innerHTML="",u.classList.add("is-hidden"),d.classList.remove("no-scroll")})),document.addEventListener("click",r),document.addEventListener("keydown",l);const h=document.querySelector(".btn-chose-book"),p=document.querySelector(".peshka");"Sign up"===g.textContent.trim()&&(h.disabled=!0,t(a).Report.info("","To make a purchase, please log in or register"));let m=[];localStorage.getItem("currentUser")&&(m=await(0,c.getDB)());h.addEventListener("click",(async()=>{let e=await(0,c.getDB)();!async function(e){let t=[];localStorage.getItem("currentUser")&&(t=await(0,c.getDB)());const n=document.querySelector(".btn-chose-book");t.includes(e)?(n.textContent="ADD TO SHOPING LIST",t=t.filter((t=>t!==e))):(n.textContent="REMOVE FROM THE SHOPPING LIST",t.push(e));(0,c.setDB)(t)}(n),e.includes(n)?p.innerHTML="":p.innerHTML="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”."})),m.includes(n)?(h.textContent="REMOVE FROM THE SHOPPING LIST",p.innerHTML="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”."):(h.textContent="ADD TO SHOPING LIST",p.innerHTML="")}(n)}));i=s("7a6b6");var h=s("9Di7p");l=s("8vUBC");const p=document.querySelector(".categories_list");function m(e){p.querySelectorAll(".active-text").forEach((e=>e.classList.remove("active-text"))),e.target.classList.add("active-text")}l=s("8vUBC");document.querySelector(".support-list").insertAdjacentHTML("beforeend",function(e){let t=1;return e.map((e=>{const n=`<li class="support-item block">\n          <span class="support-nmbr">${t.toString().padStart(2,"0")}</span>\n          <a href="${e.url}" class="support-link" target="_new">\n            <svg class="icon">\n              <use href=${s("3Nkc1")}${e.img}></use>\n            </svg>\n          </a>\n        </li>`;return t++,n})).join("")}([{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:"#icon-image1"},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:"#icon-image2"},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:"#icon-image4"},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:"#icon-image6"},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:"#icon-image5"},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:"#icon-image9"},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:"#icon-image3"},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:"#icon-image7"},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:"#icon-image8"}]));const f=document.querySelector(".support-container"),v=document.querySelector(".support-list"),b=document.querySelectorAll(".support-item"),k=document.querySelector(".scroll-btn");k.addEventListener("click",(function(){L=E(),y||w?(b.forEach(((e,t)=>{t>=L&&(e.style.display="none")})),f.style.height="fit-content",k.style.transform="rotate(0deg)",f.style.transition="all 500ms cubic-bezier(0.4, 0, 0.2, 1)"):(b.forEach(((e,t)=>{t>=L&&(e.style.display="flex")})),k.style.transform="rotate(180deg)",f.style.transition="all 500ms cubic-bezier(0.4, 0, 0.2, 1)");y=!y,w=!w}));let y=!1,w=!1,L=E();function E(){return window.screen.width>768?6:4}b.forEach(((e,t)=>{t>=L&&(e.style.display="none")})),f.style.height="fit-content",k.style.transform="rotate(0deg)",v.classList.add("show"),window.addEventListener("resize",(function(){L=E(),b.forEach(((e,t)=>{e.style.display=t>=L?"none":"flex"}))})),s("kvC6y");const S=document.querySelector("#theme-switch-toggle"),H=document.querySelector("body"),T={LIGHT:"light-theme",DARK:"dark-theme"};function x(){H.classList.toggle(T.DARK),H.classList.toggle(T.LIGHT),H.classList.contains(T.LIGHT)?(S.setAttribute("checked",!1),localStorage.setItem("active-theme",T.LIGHT)):H.classList.contains(T.DARK)&&(S.setAttribute("checked",!0),localStorage.setItem("active-theme",T.DARK))}H.classList.add(T.LIGHT),S.addEventListener("change",x),localStorage.getItem("active-theme")===T.DARK&&x(),s("BDb4Q");const A=document.querySelector(".scroll-up-btn");function O(){window.pageYOffset>600?A.style.opacity="1":A.style.opacity="0"}A.addEventListener("click",O),A.onclick=function(){window.scrollTo({top:0,behavior:"smooth"})},window.onscroll=O,s("7wb2g"),(async e=>{try{const t=await(0,i.fetchBooks)(e);return p.insertAdjacentHTML("afterbegin",t.reduce(((e,{list_name:t})=>e+`<li class='item-category'><button type="button" class='btn-categoty'>${t}</button></li>`),'<li class="item-category"><button type="button" class="btn-categoty active-text">All categories</button></li>')),t}catch(e){console.log(e)}})("/category-list"),(0,l.createMurkUpAllBooks)(),p.addEventListener("click",(e=>{const t=e.target.textContent;if("All categories"===t)return m(e),void(0,l.createMurkUpAllBooks)();if("BUTTON"===e.target.nodeName){m(e);const n=t;(0,h.handleClickOnFilter)(n)}})),l.sectionBooksEl.addEventListener("click",l.onHandleCategoriesForButton)}();
//# sourceMappingURL=index.23a01364.js.map
