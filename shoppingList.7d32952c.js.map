{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-51f35964afc2a813.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-e4658742ad71d7d0.js","node_modules/@parcel/runtime-js/lib/runtime-4303b24293173998.js","node_modules/@parcel/runtime-js/lib/runtime-0c577e7f4f04e770.js","src/js/support.js","src/js/createLogos.js","src/js/theme.js","src/js/store.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","module.exports = require('./helpers/bundle-url').getBundleURL('bBggG') + require('./helpers/bundle-manifest').resolve(\"gxcW7\");","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = require('./helpers/bundle-url').getBundleURL('bBggG') + require('./helpers/bundle-manifest').resolve(\"eDFHW\");","module.exports = require('./helpers/bundle-url').getBundleURL('bBggG') + require('./helpers/bundle-manifest').resolve(\"185pE\");","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"bBggG\\\":\\\"shoppingList.7d32952c.js\\\",\\\"gxcW7\\\":\\\"support-svg.76dbc4ff.svg\\\",\\\"eDFHW\\\":\\\"modal-img.870f2cd2.svg\\\",\\\"185pE\\\":\\\"img-books-322@2x.80ece8cf.png\\\"}\"));","import { charities, createLogos } from './createLogos';\n\nconst list = document.querySelector('.support-list');\n\nlist.insertAdjacentHTML('beforeend', createLogos(charities));\n\nconst supportContainer = document.querySelector('.support-container');\nconst supportList = document.querySelector('.support-list');\nconst supportItems = document.querySelectorAll('.support-item');\nconst scrollBtn = document.querySelector('.scroll-btn');\n\nscrollBtn.addEventListener('click', onScrollBtnClick);\n\nlet isExpanded = false;\nlet isContainerExpanded = false;\nlet visibleItemsCount = getVisibleItemsCount();\n\nsupportItems.forEach((item, index) => {\n  if (index >= visibleItemsCount) {\n    item.style.display = 'none';\n  }\n});\n\nsupportContainer.style.height = 'fit-content';\nscrollBtn.style.transform = 'rotate(0deg)';\nsupportList.classList.add('show');\n\nfunction onScrollBtnClick() {\n  visibleItemsCount = getVisibleItemsCount();\n\n  if (!isExpanded && !isContainerExpanded) {\n    supportItems.forEach((item, index) => {\n      if (index >= visibleItemsCount) {\n        item.style.display = 'flex';\n      }\n    });\n    scrollBtn.style.transform = 'rotate(180deg)';\n    supportContainer.style.transition =\n      'all 500ms cubic-bezier(0.4, 0, 0.2, 1)';\n  } else {\n    supportItems.forEach((item, index) => {\n      if (index >= visibleItemsCount) {\n        item.style.display = 'none';\n      }\n    });\n    supportContainer.style.height = 'fit-content';\n    scrollBtn.style.transform = 'rotate(0deg)';\n    supportContainer.style.transition =\n      'all 500ms cubic-bezier(0.4, 0, 0.2, 1)';\n  }\n  isExpanded = !isExpanded;\n  isContainerExpanded = !isContainerExpanded;\n}\n\nfunction getVisibleItemsCount() {\n  const windowWidth = window.screen.width;\n  if (windowWidth > 768) {\n    return 6;\n  } else {\n    return 4;\n  }\n}\n\nwindow.addEventListener('resize', onWindowResize);\n\nfunction onWindowResize() {\n  visibleItemsCount = getVisibleItemsCount();\n  supportItems.forEach((item, index) => {\n    if (index >= visibleItemsCount) {\n      item.style.display = 'none';\n    } else {\n      item.style.display = 'flex';\n    }\n  });\n}\n","export const charities = [\n  {\n    title: 'Save the Children',\n    url: 'https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis',\n    img: '#icon-image1',\n  },\n  {\n    title: 'Project HOPE',\n    url: 'https://www.projecthope.org/country/ukraine/',\n    img: '#icon-image2',\n  },\n  {\n    title: 'International Medical Corps',\n    url: 'https://internationalmedicalcorps.org/country/ukraine/',\n    img: '#icon-image4',\n  },\n  {\n    title: 'RAZOM',\n    url: 'https://www.razomforukraine.org/',\n    img: '#icon-image6',\n  },\n  {\n    title: 'Medicins Sans Frontieres',\n    url: 'https://www.msf.org/ukraine',\n    img: '#icon-image5',\n  },\n  {\n    title: 'Serhiy Prytula Charity Foundation',\n    url: 'https://prytulafoundation.org/en',\n    img: '#icon-image9',\n  },\n  {\n    title: 'UNITED24',\n    url: 'https://u24.gov.ua/uk',\n    img: '#icon-image3',\n  },\n  {\n    title: 'Action against hunger',\n    url: 'https://www.actionagainsthunger.org/location/europe/ukraine/',\n    img: '#icon-image7',\n  },\n  {\n    title: 'World vision',\n    url: 'https://www.wvi.org/emergencies/ukraine',\n    img: '#icon-image8',\n  },\n];\n\nexport function createLogos(charities) {\n  let count = 1;\n  return charities\n    .map(charity => {\n      const markup = `<li class=\"support-item block\">\n          <span class=\"support-nmbr\">${count.toString().padStart(2, '0')}</span>\n          <a href=\"${charity.url}\" class=\"support-link\" target=\"_new\">\n            <svg class=\"icon\">\n              <use href=${require('../images/support/support-svg.svg')}${\n        charity.img\n      }></use>\n            </svg>\n          </a>\n        </li>`;\n      count++;\n      return markup;\n    })\n    .join('');\n}\n","const input = document.querySelector('#theme-switch-toggle');\nconst body = document.querySelector('body');\n\nconst theme = {\n    LIGHT:'light-theme',\n    DARK:'dark-theme',\n};\n\nbody.classList.add(theme.LIGHT);\ninput.addEventListener('change', switchTheme);\n\nfunction switchTheme(){\n    body.classList.toggle(theme.DARK);\n    body.classList.toggle(theme.LIGHT);\n\n    setThemeInfoToLocalStorage();\n}\n\nfunction setThemeInfoToLocalStorage(){\n    if(body.classList.contains(theme.LIGHT)){\n        input.setAttribute('checked',false);\n        localStorage.setItem('active-theme',theme.LIGHT);\n    }else if(body.classList.contains(theme.DARK)){\n        input.setAttribute('checked',true);\n        localStorage.setItem('active-theme',theme.DARK);\n    }\n}\ngetThemeInfoFromLocalStorage();\n\nfunction getThemeInfoFromLocalStorage(){\n    if(localStorage.getItem('active-theme') === theme.DARK){\n        switchTheme();\n    }\n}\n","import './support.js';\nimport './theme';\n\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/firestore';\nimport { doc, setDoc, getDoc } from 'firebase/firestore';\nconst firebaseConfig = {\n  apiKey: 'AIzaSyDdiX4miDnvSyE7S-piSDUDrOT024HmPxc',\n  authDomain: 'partybookshard.firebaseapp.com',\n  databaseURL:\n    'https://partybookshard-default-rtdb.europe-west1.firebasedatabase.app',\n  projectId: 'partybookshard',\n  storageBucket: 'partybookshard.appspot.com',\n  messagingSenderId: '572831827905',\n  appId: '1:572831827905:web:09a3282865bb9169df1140',\n};\nfirebase.initializeApp(firebaseConfig);\nconst db = firebase.firestore();\nexport async function setDB(array) {\n  const userID = localStorage.getItem('currentUser');\n  await setDoc(doc(db, 'users', userID), {\n    booksArray: array,\n  });\n}\nexport async function getDB() {\n  const userID = localStorage.getItem('currentUser');\n  const docRef = doc(db, 'users', userID);\n  const docSnap = await getDoc(docRef);\n\n  if (docSnap.exists()) {\n    return docSnap.data().booksArray;\n  } else {\n    console.log('No such document!');\n  }\n}\n\n//\nconst booksPerPage = 3;\nlet currentPage = 1;\n\nasync function renderBookList(page) {\n  const bookIds = await getDB();\n\n  const startIndex = (page - 1) * booksPerPage;\n  const endIndex = startIndex + booksPerPage;\n  const promises = bookIds\n    .slice(startIndex, endIndex)\n    .map(bookId =>\n      fetch(`https://books-backend.p.goit.global/books/${bookId}`)\n    );\n\n  Promise.all(promises)\n    .then(responses => Promise.all(responses.map(res => res.json())))\n    .then(data => {\n      const booksMarkup = data\n        .map(\n          ({\n            book_image,\n            title,\n            author,\n            description,\n            buy_links,\n            _id,\n            list_name,\n          }) => {\n            return ` <div class='book'>\n  <img class='book__image' src=${book_image} alt=${title}>\n  <div class='tablet'>\n    <div class='information'>\n      <h2 class='book__title'>${\n        title.length > 16 ? title.slice(0, 16) + '...' : title\n      }</h2>\n      <p class='book__categ'>${\n        list_name.length > 20 ? list_name.slice(0, 20) + '...' : list_name\n      }</p>\n      <p class='book__description'>${description || 'no description'}</p>\n    </div>\n    <div class='shop__wrap'>\n      <p class='book__author'>${author}</p>\n      \n        <ul class=\"logo__list\">\n              <li class=\"logo-item\">\n                <a href=\"${\n                  buy_links[0].url\n                }\" target=\"_new\" rel=\"noopener noreferer\" aria-label=\"link to Amazon\">\n                 <svg class=\"svg-shop-link logo-amazon\" width=\"32\" height=\"11\">\n    <use href=${require('../images/modal/modal-img.svg')}#icon-amazon></use>\n  </svg>\n                </a>\n              </li>\n              <li class=\"logo-item\">\n                <a href=\"${\n                  buy_links[1].url\n                }\" target=\"_new rel=\"noopener noreferer\" aria-label=\"link to Apple Books\">\n                  <svg class=\"svg-shop-link logo-apple\" width=\"16\" height=\"16\">\n    <use href=${require('../images/modal/modal-img.svg')}#icon-apple></use>\n  </svg>\n                </a>\n              </li>\n              <li class=\"logo-item\">\n                <a href=\"${\n                  buy_links[4].url\n                }\" target=\"_new rel=\"noopener noreferer\" aria-label=\"link to Bookshop\">\n                  <svg class=\"svg-shop-link logo-bookshop-mini\" width=\"16\" height=\"16\">\n    <use href=${require('../images/modal/modal-img.svg')}#icon-book_shop></use>\n  </svg>\n                  </a>\n              </li>\n            </ul>\n \n    </div>\n     </div>\n   <button class='delete-book' data-id='${_id}'>\n     <svg class=\"delete-icon\" width='16px' height='16px'>\n              <use href=${require('../images/support/support-svg.svg')}#icon-trash></use>\n            </svg>\n    </button>\n</div>`;\n          }\n        )\n        .join('');\n\n      const bookList = document.getElementById('bookList');\n      bookList.innerHTML = booksMarkup;\n\n      // check books\n      if (data.length === 0) {\n        // if not books here\n        if (currentPage === 1) {\n          bookList.innerHTML = '<p>No books found</p>';\n          if (!bookIds.length) {\n            bookList.classList.add('empty-section');\n            bookList.innerHTML = `<p class=\"empty-store-text-img\">This page is empty, add some books and proceed to order.</p> \n             <img class=\"empty-image\" src=\"${require('../images/shopping-list/img-books-322@2x.png')}\" alt=\"books\">\n           `;\n          }\n        } else {\n          // Иначе перенаправляем пользователя на предыдущую страницу\n          const previousPage = currentPage - 1;\n          const previousUrl = `${window.location.pathname}?page=${previousPage}`;\n          window.location.replace(previousUrl);\n        }\n      } else {\n        renderPagination(bookIds);\n      }\n    })\n    .catch(error => {\n      console.error(error);\n    });\n  const bookImages = document.querySelectorAll('.book__image');\n  bookImages.forEach(image => {\n    image.classList.add('animate');\n  });\n}\nfunction renderPagination(bookIds) {\n  const totalPages = Math.ceil(bookIds.length / booksPerPage);\n  if (totalPages < 2) {\n    document.getElementById('pagination').innerHTML = '';\n    return;\n  }\n\n  let buttons = '';\n  buttons += `\n    <button class=\"pagination-button black\" data-page=\"1\">&lt;&lt;</button>\n    <button class=\"pagination-button black\" data-page=\"${\n      currentPage > 1 ? currentPage - 1 : 1\n    }\">&lt;</button>\n  `;\n\n  const maxVisibleButtons = 4;\n  const maxVisiblePages = maxVisibleButtons - 1; // max count visible\n  const halfVisibleButtons = Math.floor(maxVisibleButtons / 2);\n  let firstVisiblePage = 1;\n  let lastVisiblePage = totalPages;\n\n  if (totalPages > maxVisibleButtons) {\n    const leftSideButtons = halfVisibleButtons;\n    const rightSideButtons = maxVisibleButtons - leftSideButtons - 1;\n\n    if (currentPage <= halfVisibleButtons) {\n      lastVisiblePage = maxVisiblePages;\n    } else if (currentPage >= totalPages - halfVisibleButtons + 1) {\n      firstVisiblePage = totalPages - maxVisiblePages + 1;\n    } else {\n      firstVisiblePage = currentPage - halfVisibleButtons + 1;\n      lastVisiblePage = currentPage + rightSideButtons - 1;\n    }\n\n    if (firstVisiblePage > 1) {\n      buttons += `\n        <button class=\"pagination-button notclick\">...</button>\n      `;\n    }\n  }\n\n  for (let i = firstVisiblePage; i <= lastVisiblePage; i++) {\n    const activeClass = i === currentPage ? 'active' : '';\n    buttons += `\n      <button class=\"pagination-button ${activeClass}\" data-page=\"${i}\">\n        ${i}\n      </button>\n    `;\n  }\n\n  if (totalPages > maxVisibleButtons) {\n    if (lastVisiblePage < totalPages) {\n      buttons += `\n        <button class=\"pagination-button notclick\">...</button>\n      `;\n    }\n\n    if (lastVisiblePage !== totalPages) {\n      buttons += `\n        <button class=\"pagination-button ${\n          lastVisiblePage === totalPages ? 'active' : ''\n        }\" data-page=\"${totalPages}\">${totalPages}</button>\n      `;\n    }\n  }\n\n  buttons += `\n    <button class=\"pagination-button yellow\" data-page=\"${\n      currentPage < totalPages ? currentPage + 1 : totalPages\n    }\">&gt;</button>\n    <button class=\"pagination-button yellow\" data-page=\"${totalPages}\">&gt;&gt;</button>\n  `;\n\n  const paginationContainer = document.getElementById('pagination');\n  paginationContainer.innerHTML = buttons;\n\n  const paginationButtons = document.querySelectorAll('.pagination-button');\n  paginationButtons.forEach(button => {\n    button.addEventListener('click', function () {\n      currentPage = parseInt(this.getAttribute('data-page'));\n      renderBookList(currentPage);\n\n      renderPagination(bookIds);\n    });\n  });\n}\n\nconst bookList = document.getElementById('bookList');\nbookList.addEventListener('click', function (event) {\n  const target = event.target;\n\n  if (target.classList.contains('delete-book')) {\n    const bookId = target.getAttribute('data-id');\n    removeBook(bookId);\n    target.parentNode.parentNode.removeChild(target.parentNode);\n  }\n});\n\nasync function removeBook(bookId) {\n  let bookIds = await getDB();\n  bookIds = bookIds.filter(id => id !== bookId);\n\n  setDB(bookIds);\n\n  renderPagination(bookIds);\n  renderBookList(currentPage);\n}\n\n//\nrenderBookList(currentPage);\nrenderPagination(getDB());\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","module","exports","parcelRequire","getBundleURL","resolve","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","register","JSON","parse","document","querySelector","insertAdjacentHTML","charities","count","map","charity","markup","toString","padStart","img","join","title","$06470ecdd856c5ab$var$supportContainer","$06470ecdd856c5ab$var$supportList","$06470ecdd856c5ab$var$supportItems","querySelectorAll","$06470ecdd856c5ab$var$scrollBtn","addEventListener","$06470ecdd856c5ab$var$visibleItemsCount","$06470ecdd856c5ab$var$getVisibleItemsCount","$06470ecdd856c5ab$var$isExpanded","$06470ecdd856c5ab$var$isContainerExpanded","forEach","item","index","style","display","height","transform","transition","window","screen","width","classList","add","$73a6fccb2ce51eb8$var$input","$73a6fccb2ce51eb8$var$body","$73a6fccb2ce51eb8$var$theme","LIGHT","DARK","$73a6fccb2ce51eb8$var$switchTheme","toggle","contains","setAttribute","localStorage","setItem","getItem","$9QmSZ","default","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","$60a5a30482102fa9$var$db","firestore","async","$60a5a30482102fa9$export$b079286a3c21acde","userID","docRef","$6m2hf","doc","docSnap","getDoc","exists","data","booksArray","console","log","$60a5a30482102fa9$var$booksPerPage","$60a5a30482102fa9$var$currentPage","$60a5a30482102fa9$var$renderBookList","page","bookIds","startIndex","endIndex","promises","slice","bookId","fetch","Promise","all","then","responses","res","json","booksMarkup","book_image","author","description","buy_links","_id","list_name","bookList","getElementById","innerHTML","previousPage","previousUrl","location","pathname","$60a5a30482102fa9$var$renderPagination","catch","error","image","totalPages","Math","ceil","buttons","halfVisibleButtons","floor","maxVisibleButtons","firstVisiblePage","lastVisiblePage","button","parseInt","this","getAttribute","event","target","filter","array","setDoc","$60a5a30482102fa9$export$711eec9b17b1ec9d","$60a5a30482102fa9$var$removeBook","parentNode","removeChild"],"version":3,"file":"shoppingList.7d32952c.js.map"}