{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-da92fcad04757efb.js","node_modules/@parcel/runtime-js/lib/runtime-e0d7608c0bcb87b0.js","node_modules/@parcel/runtime-js/lib/runtime-0177340721c5c949.js","node_modules/@parcel/runtime-js/lib/runtime-6c04300eb5f2228b.js","src/js/support.js","src/js/createLogos.js","src/js/theme.js","src/js/store.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"jPG2q\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"eIr77\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"bchA4\")).toString();","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7wByP\\\":\\\"shoppingList.297f59b6.js\\\",\\\"jPG2q\\\":\\\"support-svg.76dbc4ff.svg\\\",\\\"eIr77\\\":\\\"modal-img.870f2cd2.svg\\\",\\\"bchA4\\\":\\\"img-books-322@2x.80ece8cf.png\\\"}\"));","import { charities, createLogos } from './createLogos';\n\nconst list = document.querySelector('.support-list');\n\nlist.insertAdjacentHTML('beforeend', createLogos(charities));\n\nconst supportContainer = document.querySelector('.support-container');\nconst supportList = document.querySelector('.support-list');\nconst supportItems = document.querySelectorAll('.support-item');\nconst scrollBtn = document.querySelector('.scroll-btn');\n\nscrollBtn.addEventListener('click', onScrollBtnClick);\n\nlet isExpanded = false;\nlet isContainerExpanded = false;\nlet visibleItemsCount = getVisibleItemsCount();\n\nsupportItems.forEach((item, index) => {\n  if (index >= visibleItemsCount) {\n    item.style.display = 'none';\n  }\n});\n\nsupportContainer.style.height = 'fit-content';\nscrollBtn.style.transform = 'rotate(0deg)';\nsupportList.classList.add('show');\n\nfunction onScrollBtnClick() {\n  visibleItemsCount = getVisibleItemsCount();\n\n  if (!isExpanded && !isContainerExpanded) {\n    supportItems.forEach((item, index) => {\n      if (index >= visibleItemsCount) {\n        item.style.display = 'flex';\n      }\n    });\n    scrollBtn.style.transform = 'rotate(180deg)';\n    supportContainer.style.transition =\n      'all 500ms cubic-bezier(0.4, 0, 0.2, 1)';\n  } else {\n    supportItems.forEach((item, index) => {\n      if (index >= visibleItemsCount) {\n        item.style.display = 'none';\n      }\n    });\n    supportContainer.style.height = 'fit-content';\n    scrollBtn.style.transform = 'rotate(0deg)';\n    supportContainer.style.transition =\n      'all 500ms cubic-bezier(0.4, 0, 0.2, 1)';\n  }\n  isExpanded = !isExpanded;\n  isContainerExpanded = !isContainerExpanded;\n}\n\nfunction getVisibleItemsCount() {\n  const windowWidth = window.screen.width;\n  if (windowWidth > 768) {\n    return 6;\n  } else {\n    return 4;\n  }\n}\n\nwindow.addEventListener('resize', onWindowResize);\n\nfunction onWindowResize() {\n  visibleItemsCount = getVisibleItemsCount();\n  supportItems.forEach((item, index) => {\n    if (index >= visibleItemsCount) {\n      item.style.display = 'none';\n    } else {\n      item.style.display = 'flex';\n    }\n  });\n}\n","export const charities = [\n  {\n    title: 'Save the Children',\n    url: 'https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis',\n    img: '#icon-image1',\n  },\n  {\n    title: 'Project HOPE',\n    url: 'https://www.projecthope.org/country/ukraine/',\n    img: '#icon-image2',\n  },\n  {\n    title: 'International Medical Corps',\n    url: 'https://internationalmedicalcorps.org/country/ukraine/',\n    img: '#icon-image4',\n  },\n  {\n    title: 'RAZOM',\n    url: 'https://www.razomforukraine.org/',\n    img: '#icon-image6',\n  },\n  {\n    title: 'Medicins Sans Frontieres',\n    url: 'https://www.msf.org/ukraine',\n    img: '#icon-image5',\n  },\n  {\n    title: 'Serhiy Prytula Charity Foundation',\n    url: 'https://prytulafoundation.org/en',\n    img: '#icon-image9',\n  },\n  {\n    title: 'UNITED24',\n    url: 'https://u24.gov.ua/uk',\n    img: '#icon-image3',\n  },\n  {\n    title: 'Action against hunger',\n    url: 'https://www.actionagainsthunger.org/location/europe/ukraine/',\n    img: '#icon-image7',\n  },\n  {\n    title: 'World vision',\n    url: 'https://www.wvi.org/emergencies/ukraine',\n    img: '#icon-image8',\n  },\n];\n\nexport function createLogos(charities) {\n  let count = 1;\n  return charities\n    .map(charity => {\n      const markup = `<li class=\"support-item block\">\n          <span class=\"support-nmbr\">${count.toString().padStart(2, '0')}</span>\n          <a href=\"${charity.url}\" class=\"support-link\" target=\"_new\">\n            <svg class=\"icon\">\n              <use href=${require('../images/support/support-svg.svg')}${\n        charity.img\n      }></use>\n            </svg>\n          </a>\n        </li>`;\n      count++;\n      return markup;\n    })\n    .join('');\n}\n","const input = document.querySelector('#theme-switch-toggle');\nconst body = document.querySelector('body');\n\nconst theme = {\n    LIGHT:'light-theme',\n    DARK:'dark-theme',\n};\n\nbody.classList.add(theme.LIGHT);\ninput.addEventListener('change', switchTheme);\n\nfunction switchTheme(){\n    body.classList.toggle(theme.DARK);\n    body.classList.toggle(theme.LIGHT);\n\n    setThemeInfoToLocalStorage();\n}\n\nfunction setThemeInfoToLocalStorage(){\n    if(body.classList.contains(theme.LIGHT)){\n        input.setAttribute('checked',false);\n        localStorage.setItem('active-theme',theme.LIGHT);\n    }else if(body.classList.contains(theme.DARK)){\n        input.setAttribute('checked',true);\n        localStorage.setItem('active-theme',theme.DARK);\n    }\n}\ngetThemeInfoFromLocalStorage();\n\nfunction getThemeInfoFromLocalStorage(){\n    if(localStorage.getItem('active-theme') === theme.DARK){\n        switchTheme();\n    }\n}\n","import './support.js';\nimport './theme';\n\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/firestore';\nimport { doc, setDoc, getDoc } from 'firebase/firestore';\nconst firebaseConfig = {\n  apiKey: 'AIzaSyDdiX4miDnvSyE7S-piSDUDrOT024HmPxc',\n  authDomain: 'partybookshard.firebaseapp.com',\n  databaseURL:\n    'https://partybookshard-default-rtdb.europe-west1.firebasedatabase.app',\n  projectId: 'partybookshard',\n  storageBucket: 'partybookshard.appspot.com',\n  messagingSenderId: '572831827905',\n  appId: '1:572831827905:web:09a3282865bb9169df1140',\n};\nfirebase.initializeApp(firebaseConfig);\nconst db = firebase.firestore();\nexport async function setDB(array) {\n  const userID = localStorage.getItem('currentUser');\n  await setDoc(doc(db, 'users', userID), {\n    booksArray: array,\n  });\n}\nexport async function getDB() {\n  const userID = localStorage.getItem('currentUser');\n  const docRef = doc(db, 'users', userID);\n  const docSnap = await getDoc(docRef);\n\n  if (docSnap.exists()) {\n    return docSnap.data().booksArray;\n  } else {\n    console.log('No such document!');\n  }\n}\n\n//\nconst booksPerPage = 3;\nlet currentPage = 1;\n\nasync function renderBookList(page) {\n  const bookIds = await getDB();\n\n  const startIndex = (page - 1) * booksPerPage;\n  const endIndex = startIndex + booksPerPage;\n  const promises = bookIds\n    .slice(startIndex, endIndex)\n    .map(bookId =>\n      fetch(`https://books-backend.p.goit.global/books/${bookId}`)\n    );\n\n  Promise.all(promises)\n    .then(responses => Promise.all(responses.map(res => res.json())))\n    .then(data => {\n      const booksMarkup = data\n        .map(\n          ({\n            book_image,\n            title,\n            author,\n            description,\n            buy_links,\n            _id,\n            list_name,\n          }) => {\n            return ` <div class='book'>\n  <img class='book__image' src=${book_image} alt=${title}>\n  <div class='tablet'>\n    <div class='information'>\n      <h2 class='book__title'>${\n        title.length > 16 ? title.slice(0, 16) + '...' : title\n      }</h2>\n      <p class='book__categ'>${\n        list_name.length > 20 ? list_name.slice(0, 20) + '...' : list_name\n      }</p>\n      <p class='book__description'>${description || 'no description'}</p>\n    </div>\n    <div class='shop__wrap'>\n      <p class='book__author'>${author}</p>\n      \n        <ul class=\"logo__list\">\n              <li class=\"logo-item\">\n                <a href=\"${\n                  buy_links[0].url\n                }\" target=\"_new\" rel=\"noopener noreferer\" aria-label=\"link to Amazon\">\n                 <svg class=\"svg-shop-link logo-amazon\" width=\"32\" height=\"11\">\n    <use href=${require('../images/modal/modal-img.svg')}#icon-amazon></use>\n  </svg>\n                </a>\n              </li>\n              <li class=\"logo-item\">\n                <a href=\"${\n                  buy_links[1].url\n                }\" target=\"_new rel=\"noopener noreferer\" aria-label=\"link to Apple Books\">\n                  <svg class=\"svg-shop-link logo-apple\" width=\"16\" height=\"16\">\n    <use href=${require('../images/modal/modal-img.svg')}#icon-apple></use>\n  </svg>\n                </a>\n              </li>\n              <li class=\"logo-item\">\n                <a href=\"${\n                  buy_links[4].url\n                }\" target=\"_new rel=\"noopener noreferer\" aria-label=\"link to Bookshop\">\n                  <svg class=\"svg-shop-link logo-bookshop-mini\" width=\"16\" height=\"16\">\n    <use href=${require('../images/modal/modal-img.svg')}#icon-book_shop></use>\n  </svg>\n                  </a>\n              </li>\n            </ul>\n \n    </div>\n     </div>\n   <button class='delete-book' data-id='${_id}'>\n     <svg class=\"delete-icon\" width='16px' height='16px'>\n              <use href=${require('../images/support/support-svg.svg')}#icon-trash></use>\n            </svg>\n    </button>\n</div>`;\n          }\n        )\n        .join('');\n\n      const bookList = document.getElementById('bookList');\n      bookList.innerHTML = booksMarkup;\n\n      // check books\n      if (data.length === 0) {\n        // if not books here\n        if (currentPage === 1) {\n          bookList.innerHTML = '<p>No books found</p>';\n          if (!bookIds.length) {\n            bookList.classList.add('empty-section');\n            bookList.innerHTML = `<p class=\"empty-store-text-img\">This page is empty, add some books and proceed to order.</p> \n             <img class=\"empty-image\" src=\"${require('../images/shopping-list/img-books-322@2x.png')}\" alt=\"books\">\n           `;\n          }\n        } else {\n          // Иначе перенаправляем пользователя на предыдущую страницу\n          const previousPage = currentPage - 1;\n          const previousUrl = `${window.location.pathname}?page=${previousPage}`;\n          window.location.replace(previousUrl);\n        }\n      } else {\n        renderPagination(bookIds);\n      }\n    })\n    .catch(error => {\n      console.error(error);\n    });\n  const bookImages = document.querySelectorAll('.book__image');\n  bookImages.forEach(image => {\n    image.classList.add('animate');\n  });\n}\nfunction renderPagination(bookIds) {\n  const totalPages = Math.ceil(bookIds.length / booksPerPage);\n  if (totalPages < 2) {\n    document.getElementById('pagination').innerHTML = '';\n    return;\n  }\n\n  let buttons = '';\n  buttons += `\n    <button class=\"pagination-button black\" data-page=\"1\">&lt;&lt;</button>\n    <button class=\"pagination-button black\" data-page=\"${\n      currentPage > 1 ? currentPage - 1 : 1\n    }\">&lt;</button>\n  `;\n\n  const maxVisibleButtons = 4;\n  const maxVisiblePages = maxVisibleButtons - 1; // max count visible\n  const halfVisibleButtons = Math.floor(maxVisibleButtons / 2);\n  let firstVisiblePage = 1;\n  let lastVisiblePage = totalPages;\n\n  if (totalPages > maxVisibleButtons) {\n    const leftSideButtons = halfVisibleButtons;\n    const rightSideButtons = maxVisibleButtons - leftSideButtons - 1;\n\n    if (currentPage <= halfVisibleButtons) {\n      lastVisiblePage = maxVisiblePages;\n    } else if (currentPage >= totalPages - halfVisibleButtons + 1) {\n      firstVisiblePage = totalPages - maxVisiblePages + 1;\n    } else {\n      firstVisiblePage = currentPage - halfVisibleButtons + 1;\n      lastVisiblePage = currentPage + rightSideButtons - 1;\n    }\n\n    if (firstVisiblePage > 1) {\n      buttons += `\n        <button class=\"pagination-button notclick\">...</button>\n      `;\n    }\n  }\n\n  for (let i = firstVisiblePage; i <= lastVisiblePage; i++) {\n    const activeClass = i === currentPage ? 'active' : '';\n    buttons += `\n      <button class=\"pagination-button ${activeClass}\" data-page=\"${i}\">\n        ${i}\n      </button>\n    `;\n  }\n\n  if (totalPages > maxVisibleButtons) {\n    if (lastVisiblePage < totalPages) {\n      buttons += `\n        <button class=\"pagination-button notclick\">...</button>\n      `;\n    }\n\n    if (lastVisiblePage !== totalPages) {\n      buttons += `\n        <button class=\"pagination-button ${\n          lastVisiblePage === totalPages ? 'active' : ''\n        }\" data-page=\"${totalPages}\">${totalPages}</button>\n      `;\n    }\n  }\n\n  buttons += `\n    <button class=\"pagination-button yellow\" data-page=\"${\n      currentPage < totalPages ? currentPage + 1 : totalPages\n    }\">&gt;</button>\n    <button class=\"pagination-button yellow\" data-page=\"${totalPages}\">&gt;&gt;</button>\n  `;\n\n  const paginationContainer = document.getElementById('pagination');\n  paginationContainer.innerHTML = buttons;\n\n  const paginationButtons = document.querySelectorAll('.pagination-button');\n  paginationButtons.forEach(button => {\n    button.addEventListener('click', function () {\n      currentPage = parseInt(this.getAttribute('data-page'));\n      renderBookList(currentPage);\n\n      renderPagination(bookIds);\n    });\n  });\n}\n\nconst bookList = document.getElementById('bookList');\nbookList.addEventListener('click', function (event) {\n  const target = event.target;\n\n  if (target.classList.contains('delete-book')) {\n    const bookId = target.getAttribute('data-id');\n    removeBook(bookId);\n    target.parentNode.parentNode.removeChild(target.parentNode);\n  }\n});\n\nasync function removeBook(bookId) {\n  let bookIds = await getDB();\n  bookIds = bookIds.filter(id => id !== bookId);\n\n  setDB(bookIds);\n\n  renderPagination(bookIds);\n  renderBookList(currentPage);\n}\n\n//\nrenderBookList(currentPage);\nrenderPagination(getDB());\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","module","exports","URL","parcelRequire","resolve","url","toString","register","JSON","parse","document","querySelector","insertAdjacentHTML","charities","count","map","charity","markup","padStart","img","join","title","$a1c89e1aadc8bf09$var$supportContainer","$a1c89e1aadc8bf09$var$supportList","$a1c89e1aadc8bf09$var$supportItems","querySelectorAll","$a1c89e1aadc8bf09$var$scrollBtn","addEventListener","$a1c89e1aadc8bf09$var$visibleItemsCount","$a1c89e1aadc8bf09$var$getVisibleItemsCount","$a1c89e1aadc8bf09$var$isExpanded","$a1c89e1aadc8bf09$var$isContainerExpanded","forEach","item","index","style","display","height","transform","transition","window","screen","width","classList","add","$38bc8b2c82e947f6$var$input","$38bc8b2c82e947f6$var$body","$38bc8b2c82e947f6$var$theme","LIGHT","DARK","$38bc8b2c82e947f6$var$switchTheme","toggle","contains","setAttribute","localStorage","setItem","getItem","$cEmXr","default","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","$3fa2584d11fbd999$var$db","firestore","async","$3fa2584d11fbd999$export$b079286a3c21acde","userID","docRef","$ftYLF","doc","docSnap","getDoc","exists","data","booksArray","console","log","$3fa2584d11fbd999$var$booksPerPage","$3fa2584d11fbd999$var$currentPage","$3fa2584d11fbd999$var$renderBookList","page","bookIds","startIndex","endIndex","promises","slice","bookId","fetch","Promise","all","then","responses","res","json","booksMarkup","book_image","author","description","buy_links","_id","list_name","bookList","getElementById","innerHTML","previousPage","previousUrl","location","pathname","replace","$3fa2584d11fbd999$var$renderPagination","catch","error","image","totalPages","Math","ceil","buttons","halfVisibleButtons","floor","maxVisibleButtons","firstVisiblePage","lastVisiblePage","button","parseInt","this","getAttribute","event","target","filter","array","setDoc","$3fa2584d11fbd999$export$711eec9b17b1ec9d","$3fa2584d11fbd999$var$removeBook","parentNode","removeChild"],"version":3,"file":"shoppingList.297f59b6.js.map"}