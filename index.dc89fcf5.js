function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},s={},i=n.parcelRequireead5;null==i&&((i=function(e){if(e in o)return o[e].exports;if(e in s){var t=s[e];delete s[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){s[e]=t},n.parcelRequireead5=i),i.register("kyEFX",(function(t,n){var o,s;e(t.exports,"register",(function(){return o}),(function(e){return o=e})),e(t.exports,"resolve",(function(){return s}),(function(e){return s=e}));var i={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},s=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i.register("9FYEI",(function(e,t){e.exports=new URL(i("kyEFX").resolve("b3cw3"),import.meta.url).toString()})),i.register("c8vdZ",(function(e,t){e.exports=new URL(i("kyEFX").resolve("eIr77"),import.meta.url).toString()})),i.register("hmWXP",(function(e,t){e.exports=new URL(i("kyEFX").resolve("jPG2q"),import.meta.url).toString()})),i("kyEFX").register(JSON.parse('{"5ZPII":"index.dc89fcf5.js","eIr77":"modal-img.870f2cd2.svg","jPG2q":"support-svg.76dbc4ff.svg","b3cw3":"general-svg.svg.42d92875.svg","7hJdC":"shoppingList.ef40dfcc.js","jnecv":"shoppingList.ce26a380.js"}'));var r=i("ju4sA"),l=i("6AHvh"),a=i("7Y9D8"),c=i("fI1rF");const u=document.querySelector(".backdrop"),d=document.querySelector("body"),g=document.querySelector(".sign-btn");l.sectionBooksEl.addEventListener("click",(e=>{const n=e.target.closest(".book-card");n&&async function(e){u.classList.remove("is-hidden"),d.classList.add("no-scroll"),u.innerHTML="";const n=e.getAttribute("data-id"),o=function({description:e,book_image:t,author:n,title:o,buy_links:s,list_name:r}){return`\n    <div class="modal-add-book-window">\n      <div class="all-book-modal">\n        <button class="close-btn-modal">\n          <svg class="close-svg-modal" width="28" height="28">\n            <use href=${i("9FYEI")}#icon-x-close></use>\n          </svg>\n        </button>\n        <img class="img-book-modal" src="${t}" alt="${r}" />\n          <div class="book-modal">\n            <h3 class="title-book-modal">${o}</h3>\n            <p class="author-book-modal">${n}</p>\n            <p class="text-book-modal">${e||"no description"}</p>\n            <ul class="logotip-list">\n              <li class="logo-item">\n                <a href="${s[0].url}" target="_new" rel="noopener noreferer" aria-label="link to Amazon">\n                 <svg class="svg-shop-link" width="62" height="19">\n    <use href=${i("c8vdZ")}#icon-amazon></use>\n  </svg>\n                </a>\n              </li>\n              <li class="logo-item">\n                <a href="${s[1].url}" target="_new rel="noopener noreferer" aria-label="link to Apple Books">\n                  <svg class="svg-shop-link" width="33" height="32">\n    <use href=${i("c8vdZ")}#icon-apple></use>\n  </svg>\n                </a>\n              </li>\n              <li class="logo-item">\n                <a href="${s[4].url}" target="_new rel="noopener noreferer" aria-label="link to Bookshop">\n                  <svg class="svg-shop-link" width="38" height="36">\n    <use href=${i("c8vdZ")}#icon-book_shop></use>\n  </svg>\n                  </a>\n              </li>\n            </ul>\n          </div>  \n      </div>\n          <button class="btn-chose-book active">Add to shopping list</button>\n          <p class="peshka"></p>\n    </div>`}(await(0,r.fetchBooks)(n));u.innerHTML=o;function s(e){e.target===u&&(u.classList.add("is-hidden"),document.removeEventListener("click",s),d.classList.remove("no-scroll"))}function l(e){"Escape"===e.key&&(u.classList.add("is-hidden"),d.classList.remove("no-scroll"),document.removeEventListener("keydown",l))}document.querySelector(".close-btn-modal").addEventListener("click",(e=>{u.innerHTML="",u.classList.add("is-hidden"),d.classList.remove("no-scroll")})),document.addEventListener("click",s),document.addEventListener("keydown",l);const h=document.querySelector(".btn-chose-book"),p=document.querySelector(".peshka");"Sign up"===g.textContent.trim()&&(h.disabled=!0,t(a).Report.info("","To make a purchase, please log in or register"));let m=[];localStorage.getItem("currentUser")&&(m=await(0,c.getDB)());h.addEventListener("click",(async()=>{let e=await(0,c.getDB)();!async function(e){let t=[];localStorage.getItem("currentUser")&&(t=await(0,c.getDB)());const n=document.querySelector(".btn-chose-book");t.includes(e)?(n.textContent="ADD TO SHOPING LIST",t=t.filter((t=>t!==e))):(n.textContent="REMOVE FROM THE SHOPPING LIST",t.push(e));(0,c.setDB)(t)}(n),e.includes(n)?p.innerHTML="":p.innerHTML="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”."})),m.includes(n)?(h.textContent="REMOVE FROM THE SHOPPING LIST",p.innerHTML="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”."):(h.textContent="ADD TO SHOPING LIST",p.innerHTML="")}(n)}));r=i("ju4sA");var h=i("kV9l4");l=i("6AHvh");const p=document.querySelector(".categories_list");function m(e){p.querySelectorAll(".active-text").forEach((e=>e.classList.remove("active-text"))),e.target.classList.add("active-text")}l=i("6AHvh");document.querySelector(".support-list").insertAdjacentHTML("beforeend",function(e){let t=1;return e.map((e=>{const n=`<li class="support-item block">\n          <span class="support-nmbr">${t.toString().padStart(2,"0")}</span>\n          <a href="${e.url}" class="support-link" target="_new">\n            <svg class="icon">\n              <use href=${i("hmWXP")}${e.img}></use>\n            </svg>\n          </a>\n        </li>`;return t++,n})).join("")}([{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:"#icon-image1"},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:"#icon-image2"},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:"#icon-image4"},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:"#icon-image6"},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:"#icon-image5"},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:"#icon-image9"},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:"#icon-image3"},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:"#icon-image7"},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:"#icon-image8"}]));const f=document.querySelector(".support-container"),v=document.querySelector(".support-list"),b=document.querySelectorAll(".support-item"),y=document.querySelector(".scroll-btn");y.addEventListener("click",(function(){L=S(),k||w?(b.forEach(((e,t)=>{t>=L&&(e.style.display="none")})),f.style.height="fit-content",y.style.transform="rotate(0deg)",f.style.transition="all 500ms cubic-bezier(0.4, 0, 0.2, 1)"):(b.forEach(((e,t)=>{t>=L&&(e.style.display="flex")})),y.style.transform="rotate(180deg)",f.style.transition="all 500ms cubic-bezier(0.4, 0, 0.2, 1)");k=!k,w=!w}));let k=!1,w=!1,L=S();function S(){return window.screen.width>768?6:4}b.forEach(((e,t)=>{t>=L&&(e.style.display="none")})),f.style.height="fit-content",y.style.transform="rotate(0deg)",v.classList.add("show"),window.addEventListener("resize",(function(){L=S(),b.forEach(((e,t)=>{e.style.display=t>=L?"none":"flex"}))})),i("gjiCh");const E=document.querySelector("#theme-switch-toggle"),H=document.querySelector("body"),A={LIGHT:"light-theme",DARK:"dark-theme"};function T(){H.classList.toggle(A.DARK),H.classList.toggle(A.LIGHT),H.classList.contains(A.LIGHT)?(E.setAttribute("checked",!1),localStorage.setItem("active-theme",A.LIGHT)):H.classList.contains(A.DARK)&&(E.setAttribute("checked",!0),localStorage.setItem("active-theme",A.DARK))}H.classList.add(A.LIGHT),E.addEventListener("change",T),localStorage.getItem("active-theme")===A.DARK&&T(),i("7sfsU");const I=document.querySelector(".scroll-up-btn");function _(){window.pageYOffset>600?I.style.opacity="1":I.style.opacity="0"}I.addEventListener("click",_),I.onclick=function(){window.scrollTo({top:0,behavior:"smooth"})},window.onscroll=_,i("5lLTV"),(async e=>{try{const t=await(0,r.fetchBooks)(e);return p.insertAdjacentHTML("afterbegin",t.reduce(((e,{list_name:t})=>e+`<li class='item-category'><button type="button" class='btn-categoty'>${t}</button></li>`),'<li class="item-category"><button type="button" class="btn-categoty active-text">All categories</button></li>')),t}catch(e){console.log(e)}})("/category-list"),(0,l.createMurkUpAllBooks)(),p.addEventListener("click",(e=>{const t=e.target.textContent;if("All categories"===t)return m(e),void(0,l.createMurkUpAllBooks)();if("BUTTON"===e.target.nodeName){m(e);const n=t;(0,h.handleClickOnFilter)(n)}})),l.sectionBooksEl.addEventListener("click",l.onHandleCategoriesForButton);
//# sourceMappingURL=index.dc89fcf5.js.map
