!function(){function t(t,e,n,o){Object.defineProperty(t,e,{get:n,set:o,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},i=e.parcelRequireead5;null==i&&((i=function(t){if(t in n)return n[t].exports;if(t in o){var e=o[t];delete o[t];var i={id:t,exports:{}};return n[t]=i,e.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){o[t]=e},e.parcelRequireead5=i),i.register("iE7OH",(function(e,n){var o,i;t(e.exports,"register",(function(){return o}),(function(t){return o=t})),t(e.exports,"resolve",(function(){return i}),(function(t){return i=t}));var a={};o=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)a[e[n]]=t[e[n]]},i=function(t){var e=a[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),i.register("9KIWk",(function(t,e){t.exports=i("aNJCr").getBundleURL("bBggG")+i("iE7OH").resolve("gxcW7")})),i.register("aNJCr",(function(e,n){var o;t(e.exports,"getBundleURL",(function(){return o}),(function(t){return o=t}));var i={};function a(t){return(""+t).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}o=function(t){var e=i[t];return e||(e=function(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(t)return a(t[2])}return"/"}(),i[t]=e),e}})),i.register("753IS",(function(t,e){t.exports=i("aNJCr").getBundleURL("bBggG")+i("iE7OH").resolve("eDFHW")})),i.register("4JWUG",(function(t,e){t.exports=i("aNJCr").getBundleURL("bBggG")+i("iE7OH").resolve("185pE")})),i("iE7OH").register(JSON.parse('{"bBggG":"shoppingList.d7ddec6c.js","gxcW7":"support-svg.76dbc4ff.svg","eDFHW":"modal-img.870f2cd2.svg","185pE":"img-books-322@2x.80ece8cf.png"}'));document.querySelector(".support-list").insertAdjacentHTML("beforeend",function(t){let e=1;return t.map((t=>{const n=`<li class="support-item block">\n          <span class="support-nmbr">${e.toString().padStart(2,"0")}</span>\n          <a href="${t.url}" class="support-link" target="_new">\n            <svg class="icon">\n              <use href=${i("9KIWk")}${t.img}></use>\n            </svg>\n          </a>\n        </li>`;return e++,n})).join("")}([{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:"#icon-image1"},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:"#icon-image2"},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:"#icon-image4"},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:"#icon-image6"},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:"#icon-image5"},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:"#icon-image9"},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:"#icon-image3"},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:"#icon-image7"},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:"#icon-image8"}]));const a=document.querySelector(".support-container"),r=document.querySelector(".support-list"),s=document.querySelectorAll(".support-item"),l=document.querySelector(".scroll-btn");l.addEventListener("click",(function(){g=d(),c||u?(s.forEach(((t,e)=>{e>=g&&(t.style.display="none")})),a.style.height="fit-content",l.style.transform="rotate(0deg)",a.style.transition="all 500ms cubic-bezier(0.4, 0, 0.2, 1)"):(s.forEach(((t,e)=>{e>=g&&(t.style.display="flex")})),l.style.transform="rotate(180deg)",a.style.transition="all 500ms cubic-bezier(0.4, 0, 0.2, 1)");c=!c,u=!u}));let c=!1,u=!1,g=d();function d(){return window.screen.width>768?6:4}s.forEach(((t,e)=>{e>=g&&(t.style.display="none")})),a.style.height="fit-content",l.style.transform="rotate(0deg)",r.classList.add("show"),window.addEventListener("resize",(function(){g=d(),s.forEach(((t,e)=>{t.style.display=e>=g?"none":"flex"}))}));const p=document.querySelector("#theme-switch-toggle"),h=document.querySelector("body"),f={LIGHT:"light-theme",DARK:"dark-theme"};function m(){h.classList.toggle(f.DARK),h.classList.toggle(f.LIGHT),h.classList.contains(f.LIGHT)?(p.setAttribute("checked",!1),localStorage.setItem("active-theme",f.LIGHT)):h.classList.contains(f.DARK)&&(p.setAttribute("checked",!0),localStorage.setItem("active-theme",f.DARK))}h.classList.add(f.LIGHT),p.addEventListener("change",m),localStorage.getItem("active-theme")===f.DARK&&m();var b=i("9QmSZ");i("6Q2Bs"),i("19hka");var k=i("6m2hf");b.default.initializeApp({apiKey:"AIzaSyDdiX4miDnvSyE7S-piSDUDrOT024HmPxc",authDomain:"partybookshard.firebaseapp.com",databaseURL:"https://partybookshard-default-rtdb.europe-west1.firebasedatabase.app",projectId:"partybookshard",storageBucket:"partybookshard.appspot.com",messagingSenderId:"572831827905",appId:"1:572831827905:web:09a3282865bb9169df1140"});const w=b.default.firestore();async function y(){const t=localStorage.getItem("currentUser"),e=(0,k.doc)(w,"users",t),n=await(0,k.getDoc)(e);if(n.exists())return n.data().booksArray;console.log("No such document!")}const v=3;let _=1;async function L(t){const e=await y(),n=(t-1)*v,o=n+v,a=e.slice(n,o).map((t=>fetch(`https://books-backend.p.goit.global/books/${t}`)));Promise.all(a).then((t=>Promise.all(t.map((t=>t.json()))))).then((t=>{const n=t.map((({book_image:t,title:e,author:n,description:o,buy_links:a,_id:r,list_name:s})=>` <div class='book'>\n  <img class='book__image' src=${t} alt=${e}>\n  <div class='tablet'>\n    <div class='information'>\n      <h2 class='book__title'>${e.length>16?e.slice(0,16)+"...":e}</h2>\n      <p class='book__categ'>${s.length>20?s.slice(0,20)+"...":s}</p>\n      <p class='book__description'>${o||"no description"}</p>\n    </div>\n    <div class='shop__wrap'>\n      <p class='book__author'>${n}</p>\n      \n        <ul class="logo__list">\n              <li class="logo-item">\n                <a href="${a[0].url}" target="_new" rel="noopener noreferer" aria-label="link to Amazon">\n                 <svg class="svg-shop-link" width="32" height="11">\n    <use href=${i("753IS")}#icon-amazon></use>\n  </svg>\n                </a>\n              </li>\n              <li class="logo-item">\n                <a href="${a[1].url}" target="_new rel="noopener noreferer" aria-label="link to Apple Books">\n                  <svg class="svg-shop-link" width="16" height="16">\n    <use href=${i("753IS")}#icon-apple></use>\n  </svg>\n                </a>\n              </li>\n              <li class="logo-item">\n                <a href="${a[4].url}" target="_new rel="noopener noreferer" aria-label="link to Bookshop">\n                  <svg class="svg-shop-link" width="16" height="16">\n    <use href=${i("753IS")}#icon-book_shop></use>\n  </svg>\n                  </a>\n              </li>\n            </ul>\n \n    </div>\n     </div>\n   <button class='delete-book' data-id='${r}'>\n     <svg class="delete-icon" width='16px' height='16px'>\n              <use href=${i("9KIWk")}#icon-trash></use>\n            </svg>\n    </button>\n</div>`)).join(""),o=document.getElementById("bookList");if(o.innerHTML=n,0===t.length)if(1===_)o.innerHTML="<p>No books found</p>",e.length||(o.classList.add("empty-section"),o.innerHTML=`<p class="empty-store-text-img">This page is empty, add some books and proceed to order.</p> \n             <img class="empty-image" src="${i("4JWUG")}" alt="books">\n           `);else{const t=_-1,e=`${window.location.pathname}?page=${t}`;window.location.replace(e)}else S(e)})).catch((t=>{console.error(t)}));document.querySelectorAll(".book__image").forEach((t=>{t.classList.add("animate")}))}function S(t){const e=Math.ceil(t.length/v);if(e<2)return void(document.getElementById("pagination").innerHTML="");let n="";n+=`\n    <button class="pagination-button black" data-page="1">&lt;&lt;</button>\n    <button class="pagination-button black" data-page="${_>1?_-1:1}">&lt;</button>\n  `;const o=Math.floor(2);let i=1,a=e;if(e>4){_<=o?a=3:_>=e-o+1?i=e-3+1:(i=_-o+1,a=_+(4-o-1)-1),i>1&&(n+='\n        <button class="pagination-button notclick">...</button>\n      ')}for(let t=i;t<=a;t++){n+=`\n      <button class="pagination-button ${t===_?"active":""}" data-page="${t}">\n        ${t}\n      </button>\n    `}e>4&&(a<e&&(n+='\n        <button class="pagination-button notclick">...</button>\n      '),a!==e&&(n+=`\n        <button class="pagination-button ${a===e?"active":""}" data-page="${e}">${e}</button>\n      `)),n+=`\n    <button class="pagination-button yellow" data-page="${_<e?_+1:e}">&gt;</button>\n    <button class="pagination-button yellow" data-page="${e}">&gt;&gt;</button>\n  `;document.getElementById("pagination").innerHTML=n;document.querySelectorAll(".pagination-button").forEach((e=>{e.addEventListener("click",(function(){_=parseInt(this.getAttribute("data-page")),L(_),S(t)}))}))}document.getElementById("bookList").addEventListener("click",(function(t){const e=t.target;if(e.classList.contains("delete-book")){!async function(t){let e=await y();e=e.filter((e=>e!==t)),async function(t){const e=localStorage.getItem("currentUser");await(0,k.setDoc)((0,k.doc)(w,"users",e),{booksArray:t})}(e),S(e),L(_)}(e.getAttribute("data-id")),e.parentNode.parentNode.removeChild(e.parentNode)}})),L(_),S(y())}();
//# sourceMappingURL=shoppingList.d7ddec6c.js.map
